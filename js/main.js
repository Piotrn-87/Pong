!function(c){var t={};function I(g){if(t[g])return t[g].exports;var n=t[g]={i:g,l:!1,exports:{}};return c[g].call(n.exports,n,n.exports,I),n.l=!0,n.exports}I.m=c,I.c=t,I.d=function(c,t,g){I.o(c,t)||Object.defineProperty(c,t,{enumerable:!0,get:g})},I.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},I.t=function(c,t){if(1&t&&(c=I(c)),8&t)return c;if(4&t&&"object"==typeof c&&c&&c.__esModule)return c;var g=Object.create(null);if(I.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:c}),2&t&&"string"!=typeof c)for(var n in c)I.d(g,n,function(t){return c[t]}.bind(null,n));return g},I.n=function(c){var t=c&&c.__esModule?function(){return c.default}:function(){return c};return I.d(t,"a",t),t},I.o=function(c,t){return Object.prototype.hasOwnProperty.call(c,t)},I.p="",I(I.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/js/paddle.js\nconst GOLDEN_RATIO = 1.61; //FIBO in px\r\nconst MAX_SPEED = 4; //Maximum speed per seconds in px\r\nconst PADDLE_WIDTH = 100; //Paddle width in px\r\nconst PADDLE_HEIGHT = 20; //Paddle height in px\r\nconst SPEED = 0; //Initial speed per seconds in px\r\nlet hue = 180;\r\nclass Paddle {\r\n  constructor(game) {\r\n    this.game = game;\r\n    this.gameWidth = game.gameWidth;\r\n    this.gameHeight = game.gameHeight;\r\n    this.width = PADDLE_WIDTH;\r\n    this.height = PADDLE_HEIGHT;\r\n    this.speedX = SPEED;\r\n    this.speedY = SPEED;\r\n    this.maxSpeed = MAX_SPEED;\r\n    this.position = {\r\n      x: game.gameWidth / 2 - this.width / 2,\r\n      y: game.gameHeight - this.height * GOLDEN_RATIO,\r\n    };\r\n\r\n    document.addEventListener("keydown", (event) => {\r\n      hue += GOLDEN_RATIO / 5;\r\n      switch (event.keyCode) {\r\n        case 37:\r\n          this.moveLeft();\r\n          break;\r\n        case 38:\r\n          this.moveUp();\r\n          break;\r\n        case 39:\r\n          this.moveRight();\r\n          break;\r\n        case 40:\r\n          this.moveDown();\r\n          break;\r\n      }\r\n    });\r\n\r\n    document.addEventListener("keyup", (event) => {\r\n      switch (event.keyCode) {\r\n        case 37:\r\n          this.stop();\r\n          break;\r\n        case 38:\r\n          this.stop();\r\n          break;\r\n        case 39:\r\n          this.stop();\r\n          break;\r\n        case 40:\r\n          this.stop();\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  moveLeft() {\r\n    this.speedX = -this.maxSpeed;\r\n  }\r\n  moveRight() {\r\n    this.speedX = this.maxSpeed;\r\n  }\r\n  moveUp() {\r\n    this.speedY = -this.maxSpeed;\r\n  }\r\n  moveDown() {\r\n    this.speedY = this.maxSpeed;\r\n  }\r\n  stop() {\r\n    this.speedX = 0;\r\n    this.speedY = 0;\r\n  }\r\n\r\n  draw(ctx) {\r\n    ctx.fillStyle = `hsl(${hue},100%, 50%)`;\r\n    ctx.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n\r\n  update() {\r\n    this.position.x += this.speedX;\r\n    this.position.y += this.speedY;\r\n    if (this.position.x < 0) {\r\n      this.position.x = 3;\r\n    }\r\n    if (this.position.x + PADDLE_WIDTH > this.gameWidth) {\r\n      this.position.x = this.gameWidth - PADDLE_WIDTH - 3;\r\n    }\r\n    if (this.position.y < 0) {\r\n      this.position.y = 3;\r\n    } else if (this.position.y > this.gameHeight - this.height * GOLDEN_RATIO) {\r\n      this.position.y = this.gameHeight - this.height * GOLDEN_RATIO;\r\n    }\r\n  }\r\n}\r\n\r\nwindow.addEventListener("keydown", (ev) => {\r\n  console.log(ev.keyCode);\r\n});\r\n\n// CONCATENATED MODULE: ./src/js/collisionDetection.js\nconst collisionDetection_GOLDEN_RATIO = 1.61;\r\nfunction collisionDetection(ball, gameObject) {\r\n  let bottomOfBall = ball.position.y + ball.size - collisionDetection_GOLDEN_RATIO;\r\n  let leftSideOfBall = ball.position.x;\r\n  let topOfBall = ball.position.y;\r\n  let rightSideOfBall = ball.position.x + ball.size;\r\n\r\n  let topOfObject = gameObject.position.y;\r\n  let leftSideOfObject = gameObject.position.x;\r\n  let rightSideOfObject = gameObject.position.x + gameObject.width;\r\n  let bottomOfObject = gameObject.position.y + gameObject.height;\r\n\r\n  if (\r\n    bottomOfBall >= topOfObject &&\r\n    topOfBall <= bottomOfObject &&\r\n    leftSideOfBall >= leftSideOfObject &&\r\n    rightSideOfBall <= rightSideOfObject\r\n  ) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/js/ball.js\n\r\nconst BALL = document.getElementById("ball");\r\nconst SIZE = 20; // Ball size in px\r\nconst ball_SPEED = 4; // Ball speed in px\r\n\r\nclass ball_Ball {\r\n  constructor(game) {\r\n    this.image = BALL;\r\n    this.game = game;\r\n    this.gameWidth = game.gameWidth;\r\n    this.gameHeight = game.gameHeight;\r\n    this.game = game;\r\n    this.size = SIZE;\r\n    this.reset();\r\n  }\r\n\r\n  reset() {\r\n    this.speed = { x: -ball_SPEED, y: -ball_SPEED };\r\n    this.position = { x: 300, y: 200 };\r\n  }\r\n\r\n  draw(ctx) {\r\n    ctx.drawImage(\r\n      this.image,\r\n      this.position.x,\r\n      this.position.y,\r\n      this.size,\r\n      this.size\r\n    );\r\n  }\r\n\r\n  update() {\r\n    this.position.x += this.speed.x;\r\n    this.position.y += this.speed.y;\r\n    if (this.position.x + this.size > this.gameWidth || this.position.x < 0) {\r\n      this.speed.x = -this.speed.x;\r\n    }\r\n    if (this.position.y + this.size > this.gameHeight || this.position.y < 0) {\r\n      this.speed.y = -this.speed.y;\r\n    }\r\n\r\n    if (this.position.y + this.size > this.gameHeight) {\r\n      this.game.lives--;\r\n      this.reset();\r\n    }\r\n\r\n    if (collisionDetection(this, this.game.paddle)) {\r\n      this.speed.y = -this.speed.y;\r\n      this.position.y = this.game.paddle.position.y - this.size;\r\n    }\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/js/brick.js\n\r\nconst BRICK = document.getElementById("brick");\r\nconst BRICK_WIDTH = 30;\r\nconst BRICK_HEIGHT = 20;\r\nclass brick_Brick {\r\n  constructor(game, position) {\r\n    this.image = BRICK;\r\n    this.game = game;\r\n    this.width = BRICK_WIDTH;\r\n    this.height = BRICK_HEIGHT;\r\n    this.position = position;\r\n    this.deletion = false;\r\n  }\r\n\r\n  update() {\r\n    if (collisionDetection(this.game.ball, this)) {\r\n      this.game.ball.speed.y = -this.game.ball.speed.y;\r\n      this.deletion = true;\r\n    }\r\n  }\r\n  draw(ctx) {\r\n    ctx.drawImage(\r\n      this.image,\r\n      this.position.x,\r\n      this.position.y,\r\n      this.width,\r\n      this.height\r\n    );\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/js/levels.js\n\r\n\r\nconst levels_BRICK_HEIGHT = 20;\r\nconst levels_BRICK_WIDTH = 30;\r\n\r\nfunction buildLevel(game, level) {\r\n  let bricks = [];\r\n  level.forEach((elementY, rowAmount) => {\r\n    elementY.forEach((elementX, brickAmount) => {\r\n      if (elementX === 1) {\r\n        bricks.push(\r\n          new brick_Brick(game, {\r\n            x: levels_BRICK_WIDTH * brickAmount,\r\n            y: levels_BRICK_HEIGHT * rowAmount + levels_BRICK_HEIGHT * 2,\r\n          })\r\n        );\r\n      }\r\n    });\r\n  });\r\n\r\n  return bricks;\r\n}\r\nconst level1 = [\r\n  [0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0],\r\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n];\r\n\n// CONCATENATED MODULE: ./src/js/game.js\n\r\n\r\n\r\n\r\n\r\n// const SPACEBAR = 32;\r\n\r\nconst GAMESTATE = {\r\n  MENU: 2,\r\n  GAMEOVER: 3,\r\n};\r\nclass game_Game {\r\n  constructor(gameWidth, gameHeight) {\r\n    this.gameWidth = gameWidth;\r\n    this.gameHeight = gameHeight;\r\n  }\r\n\r\n  start() {\r\n    this.gamestate = GAMESTATE.MENU;\r\n    let bricks = [];\r\n    this.ball = new ball_Ball(this);\r\n    this.brick = new brick_Brick(this);\r\n    this.paddle = new Paddle(this);\r\n    bricks = buildLevel(this, level1);\r\n    this.gameObject = [this.ball, this.paddle, ...bricks];\r\n    this.lives = 3;\r\n  }\r\n  update(progress) {\r\n    if (this.lives === 0) {\r\n      this.gamestate = GAMESTATE.GAMEOVER;\r\n    }\r\n\r\n    if (this.gamestate === GAMESTATE.GAMEOVER) {\r\n      return;\r\n    }\r\n\r\n    this.gameObject.forEach((element) => element.update(progress));\r\n    this.gameObject = this.gameObject.filter((object) => !object.deletion);\r\n  }\r\n  draw(ctx) {\r\n    // this.paddle.draw(ctx);\r\n    // this.ball.draw(ctx);\r\n    // this.brick.draw(ctx);\r\n    this.gameObject.forEach((element) => element.draw(ctx));\r\n\r\n    if (this.gamestate === GAMESTATE.GAMEOVER) {\r\n      ctx.rect(0, 0, 600, 400);\r\n      ctx.fillStyle = "rgba(0,0,0, 1)";\r\n      ctx.fill();\r\n      ctx.font = "30px Arial";\r\n      ctx.fillStyle = "white";\r\n      ctx.textAlign = "center";\r\n      ctx.fillText("GAME OVER", this.gameWidth / 2, this.gameHeight / 2);\r\n    }\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/js/main.js\n\r\n\r\nconst CANVAS = "canvas";\r\nconst GAME_WIDTH = 600;\r\nconst GAME_HEIGHT = 400;\r\nconst KEYPASUE = 80;\r\nconst SPACEBAR = 32;\r\nconst CHANGEBUTTON = document.querySelector(".mode--js");\r\n\r\nlet ctx;\r\nlet main_game;\r\nlet isDark = false;\r\nlet pause = false;\r\nlet progress;\r\nlet spaceBar = false;\r\nlet start = null;\r\n\r\nCHANGEBUTTON.addEventListener("click", () => {\r\n  if (isDark) {\r\n    document.documentElement.style.setProperty("--background-color", "#fefefe");\r\n    document.documentElement.style.setProperty("--text-color", "#333");\r\n    CHANGEBUTTON.innerHTML = "drakula theme";\r\n    isDark = false;\r\n  } else {\r\n    document.documentElement.style.setProperty("--background-color", "#333");\r\n    document.documentElement.style.setProperty("--text-color", "#fefefe");\r\n    CHANGEBUTTON.innerHTML = "light theme";\r\n    isDark = true;\r\n  }\r\n});\r\n\r\nlet canvas = document.getElementById(CANVAS);\r\nif (!canvas) {\r\n  console.warn("%c My Friend", "color: magenta", "Zjebales !!!");\r\n}\r\nctx = canvas.getContext("2d");\r\n\r\ndocument.addEventListener("keydown", keyDown);\r\n\r\nfunction keyDown(event) {\r\n  switch (event.keyCode) {\r\n    case KEYPASUE:\r\n      pause = !pause;\r\n      break;\r\n    case SPACEBAR:\r\n      main_game.start();\r\n      spaceBar = !spaceBar;\r\n      break;\r\n  }\r\n}\r\n\r\nmain_game = new game_Game(GAME_WIDTH, GAME_HEIGHT);\r\n\r\nmain_game.start();\r\n\r\nfunction step(timeStamp) {\r\n  if (!start) start = timeStamp;\r\n  progress = timeStamp - start;\r\n  start = progress;\r\n\r\n  ctx.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\r\n\r\n  if (!pause && spaceBar) {\r\n    main_game.update(progress);\r\n  }\r\n  main_game.draw(ctx);\r\n\r\n  if (!spaceBar) {\r\n    ctx.rect(0, 0, 600, 400);\r\n    ctx.fillStyle = "rgba(0,0,0, .9)";\r\n    ctx.fill();\r\n\r\n    ctx.font = "30px Arial";\r\n    ctx.fillStyle = "white";\r\n    ctx.textAlign = "center";\r\n    ctx.fillText("Press spacebar to start", GAME_WIDTH / 2, GAME_HEIGHT / 2);\r\n  }\r\n\r\n  if (pause) {\r\n    ctx.rect(0, 0, 600, 400);\r\n    ctx.fillStyle = "rgba(0,0,0, .3)";\r\n    ctx.fill();\r\n\r\n    ctx.font = "30px Arial";\r\n    ctx.fillStyle = "white";\r\n    ctx.textAlign = "center";\r\n    ctx.fillText("Paused", GAME_WIDTH / 2, GAME_HEIGHT / 2);\r\n  }\r\n\r\n  requestAnimationFrame(step);\r\n}\r\nrequestAnimationFrame(step);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvcGFkZGxlLmpzP2Q4YTEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbGxpc2lvbkRldGVjdGlvbi5qcz9iNWI1Iiwid2VicGFjazovLy8uL3NyYy9qcy9iYWxsLmpzPzI0Y2QiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2JyaWNrLmpzPzcyMzgiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2xldmVscy5qcz8yMzI0Iiwid2VicGFjazovLy8uL3NyYy9qcy9nYW1lLmpzPzIzMmQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4uanM/OTI5MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwwQkFBMEI7QUFDMUIsb0JBQW9CO0FBQ3BCLHlCQUF5QjtBQUN6Qix5QkFBeUI7QUFDekIsZ0JBQWdCO0FBQ2hCO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLElBQUk7QUFDL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOzs7QUNsR0QsTUFBTSwrQkFBWTtBQUNYO0FBQ1AsbURBQW1ELCtCQUFZO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7OztBQ3RCMEQ7QUFDMUQ7QUFDQSxnQkFBZ0I7QUFDaEIsTUFBTSxVQUFLLEtBQUs7O0FBRUQsTUFBTSxTQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixLQUFLLFVBQUssTUFBTSxVQUFLO0FBQ3ZDLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsa0JBQWtCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ25EMEQ7QUFDMUQ7QUFDQTtBQUNBO0FBQ2UsTUFBTSxXQUFLO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLGtCQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM3QjRCOztBQUU1QixNQUFNLG1CQUFZO0FBQ2xCLE1BQU0sa0JBQVc7O0FBRVY7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxXQUFLO0FBQ25CLGVBQWUsa0JBQVc7QUFDMUIsZUFBZSxtQkFBWSxlQUFlLG1CQUFZO0FBQ3RELFdBQVc7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDM0I4QjtBQUNKO0FBQ0U7QUFDa0I7O0FBRTlDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ2UsTUFBTSxTQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFJO0FBQ3hCLHFCQUFxQixXQUFLO0FBQzFCLHNCQUFzQixNQUFNO0FBQzVCLGFBQWEsVUFBVSxPQUFPLE1BQU07QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdkQwQjs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxTQUFJO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFNBQUk7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFJLE9BQU8sU0FBSTs7QUFFZixTQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsSUFBSSxTQUFJO0FBQ1I7QUFDQSxFQUFFLFNBQUk7O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgR09MREVOX1JBVElPID0gMS42MTsgLy9GSUJPIGluIHB4XHJcbmNvbnN0IE1BWF9TUEVFRCA9IDQ7IC8vTWF4aW11bSBzcGVlZCBwZXIgc2Vjb25kcyBpbiBweFxyXG5jb25zdCBQQURETEVfV0lEVEggPSAxMDA7IC8vUGFkZGxlIHdpZHRoIGluIHB4XHJcbmNvbnN0IFBBRERMRV9IRUlHSFQgPSAyMDsgLy9QYWRkbGUgaGVpZ2h0IGluIHB4XHJcbmNvbnN0IFNQRUVEID0gMDsgLy9Jbml0aWFsIHNwZWVkIHBlciBzZWNvbmRzIGluIHB4XHJcbmxldCBodWUgPSAxODA7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZGRsZSB7XHJcbiAgY29uc3RydWN0b3IoZ2FtZSkge1xyXG4gICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgIHRoaXMuZ2FtZVdpZHRoID0gZ2FtZS5nYW1lV2lkdGg7XHJcbiAgICB0aGlzLmdhbWVIZWlnaHQgPSBnYW1lLmdhbWVIZWlnaHQ7XHJcbiAgICB0aGlzLndpZHRoID0gUEFERExFX1dJRFRIO1xyXG4gICAgdGhpcy5oZWlnaHQgPSBQQURETEVfSEVJR0hUO1xyXG4gICAgdGhpcy5zcGVlZFggPSBTUEVFRDtcclxuICAgIHRoaXMuc3BlZWRZID0gU1BFRUQ7XHJcbiAgICB0aGlzLm1heFNwZWVkID0gTUFYX1NQRUVEO1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHtcclxuICAgICAgeDogZ2FtZS5nYW1lV2lkdGggLyAyIC0gdGhpcy53aWR0aCAvIDIsXHJcbiAgICAgIHk6IGdhbWUuZ2FtZUhlaWdodCAtIHRoaXMuaGVpZ2h0ICogR09MREVOX1JBVElPLFxyXG4gICAgfTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgaHVlICs9IEdPTERFTl9SQVRJTyAvIDU7XHJcbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICAgIGNhc2UgMzc6XHJcbiAgICAgICAgICB0aGlzLm1vdmVMZWZ0KCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM4OlxyXG4gICAgICAgICAgdGhpcy5tb3ZlVXAoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzk6XHJcbiAgICAgICAgICB0aGlzLm1vdmVSaWdodCgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICAgIHRoaXMubW92ZURvd24oKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICAgIGNhc2UgMzc6XHJcbiAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzg6XHJcbiAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzk6XHJcbiAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNDA6XHJcbiAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG1vdmVMZWZ0KCkge1xyXG4gICAgdGhpcy5zcGVlZFggPSAtdGhpcy5tYXhTcGVlZDtcclxuICB9XHJcbiAgbW92ZVJpZ2h0KCkge1xyXG4gICAgdGhpcy5zcGVlZFggPSB0aGlzLm1heFNwZWVkO1xyXG4gIH1cclxuICBtb3ZlVXAoKSB7XHJcbiAgICB0aGlzLnNwZWVkWSA9IC10aGlzLm1heFNwZWVkO1xyXG4gIH1cclxuICBtb3ZlRG93bigpIHtcclxuICAgIHRoaXMuc3BlZWRZID0gdGhpcy5tYXhTcGVlZDtcclxuICB9XHJcbiAgc3RvcCgpIHtcclxuICAgIHRoaXMuc3BlZWRYID0gMDtcclxuICAgIHRoaXMuc3BlZWRZID0gMDtcclxuICB9XHJcblxyXG4gIGRyYXcoY3R4KSB7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gYGhzbCgke2h1ZX0sMTAwJSwgNTAlKWA7XHJcbiAgICBjdHguZmlsbFJlY3QodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSgpIHtcclxuICAgIHRoaXMucG9zaXRpb24ueCArPSB0aGlzLnNwZWVkWDtcclxuICAgIHRoaXMucG9zaXRpb24ueSArPSB0aGlzLnNwZWVkWTtcclxuICAgIGlmICh0aGlzLnBvc2l0aW9uLnggPCAwKSB7XHJcbiAgICAgIHRoaXMucG9zaXRpb24ueCA9IDM7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5wb3NpdGlvbi54ICsgUEFERExFX1dJRFRIID4gdGhpcy5nYW1lV2lkdGgpIHtcclxuICAgICAgdGhpcy5wb3NpdGlvbi54ID0gdGhpcy5nYW1lV2lkdGggLSBQQURETEVfV0lEVEggLSAzO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucG9zaXRpb24ueSA8IDApIHtcclxuICAgICAgdGhpcy5wb3NpdGlvbi55ID0gMztcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wb3NpdGlvbi55ID4gdGhpcy5nYW1lSGVpZ2h0IC0gdGhpcy5oZWlnaHQgKiBHT0xERU5fUkFUSU8pIHtcclxuICAgICAgdGhpcy5wb3NpdGlvbi55ID0gdGhpcy5nYW1lSGVpZ2h0IC0gdGhpcy5oZWlnaHQgKiBHT0xERU5fUkFUSU87XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2KSA9PiB7XHJcbiAgY29uc29sZS5sb2coZXYua2V5Q29kZSk7XHJcbn0pO1xyXG4iLCJjb25zdCBHT0xERU5fUkFUSU8gPSAxLjYxO1xyXG5leHBvcnQgZnVuY3Rpb24gY29sbGlzaW9uRGV0ZWN0aW9uKGJhbGwsIGdhbWVPYmplY3QpIHtcclxuICBsZXQgYm90dG9tT2ZCYWxsID0gYmFsbC5wb3NpdGlvbi55ICsgYmFsbC5zaXplIC0gR09MREVOX1JBVElPO1xyXG4gIGxldCBsZWZ0U2lkZU9mQmFsbCA9IGJhbGwucG9zaXRpb24ueDtcclxuICBsZXQgdG9wT2ZCYWxsID0gYmFsbC5wb3NpdGlvbi55O1xyXG4gIGxldCByaWdodFNpZGVPZkJhbGwgPSBiYWxsLnBvc2l0aW9uLnggKyBiYWxsLnNpemU7XHJcblxyXG4gIGxldCB0b3BPZk9iamVjdCA9IGdhbWVPYmplY3QucG9zaXRpb24ueTtcclxuICBsZXQgbGVmdFNpZGVPZk9iamVjdCA9IGdhbWVPYmplY3QucG9zaXRpb24ueDtcclxuICBsZXQgcmlnaHRTaWRlT2ZPYmplY3QgPSBnYW1lT2JqZWN0LnBvc2l0aW9uLnggKyBnYW1lT2JqZWN0LndpZHRoO1xyXG4gIGxldCBib3R0b21PZk9iamVjdCA9IGdhbWVPYmplY3QucG9zaXRpb24ueSArIGdhbWVPYmplY3QuaGVpZ2h0O1xyXG5cclxuICBpZiAoXHJcbiAgICBib3R0b21PZkJhbGwgPj0gdG9wT2ZPYmplY3QgJiZcclxuICAgIHRvcE9mQmFsbCA8PSBib3R0b21PZk9iamVjdCAmJlxyXG4gICAgbGVmdFNpZGVPZkJhbGwgPj0gbGVmdFNpZGVPZk9iamVjdCAmJlxyXG4gICAgcmlnaHRTaWRlT2ZCYWxsIDw9IHJpZ2h0U2lkZU9mT2JqZWN0XHJcbiAgKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBjb2xsaXNpb25EZXRlY3Rpb24gfSBmcm9tIFwiLi9jb2xsaXNpb25EZXRlY3Rpb25cIjtcclxuY29uc3QgQkFMTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFsbFwiKTtcclxuY29uc3QgU0laRSA9IDIwOyAvLyBCYWxsIHNpemUgaW4gcHhcclxuY29uc3QgU1BFRUQgPSA0OyAvLyBCYWxsIHNwZWVkIGluIHB4XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYWxsIHtcclxuICBjb25zdHJ1Y3RvcihnYW1lKSB7XHJcbiAgICB0aGlzLmltYWdlID0gQkFMTDtcclxuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB0aGlzLmdhbWVXaWR0aCA9IGdhbWUuZ2FtZVdpZHRoO1xyXG4gICAgdGhpcy5nYW1lSGVpZ2h0ID0gZ2FtZS5nYW1lSGVpZ2h0O1xyXG4gICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgIHRoaXMuc2l6ZSA9IFNJWkU7XHJcbiAgICB0aGlzLnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuc3BlZWQgPSB7IHg6IC1TUEVFRCwgeTogLVNQRUVEIH07XHJcbiAgICB0aGlzLnBvc2l0aW9uID0geyB4OiAzMDAsIHk6IDIwMCB9O1xyXG4gIH1cclxuXHJcbiAgZHJhdyhjdHgpIHtcclxuICAgIGN0eC5kcmF3SW1hZ2UoXHJcbiAgICAgIHRoaXMuaW1hZ2UsXHJcbiAgICAgIHRoaXMucG9zaXRpb24ueCxcclxuICAgICAgdGhpcy5wb3NpdGlvbi55LFxyXG4gICAgICB0aGlzLnNpemUsXHJcbiAgICAgIHRoaXMuc2l6ZVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSgpIHtcclxuICAgIHRoaXMucG9zaXRpb24ueCArPSB0aGlzLnNwZWVkLng7XHJcbiAgICB0aGlzLnBvc2l0aW9uLnkgKz0gdGhpcy5zcGVlZC55O1xyXG4gICAgaWYgKHRoaXMucG9zaXRpb24ueCArIHRoaXMuc2l6ZSA+IHRoaXMuZ2FtZVdpZHRoIHx8IHRoaXMucG9zaXRpb24ueCA8IDApIHtcclxuICAgICAgdGhpcy5zcGVlZC54ID0gLXRoaXMuc3BlZWQueDtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUgPiB0aGlzLmdhbWVIZWlnaHQgfHwgdGhpcy5wb3NpdGlvbi55IDwgMCkge1xyXG4gICAgICB0aGlzLnNwZWVkLnkgPSAtdGhpcy5zcGVlZC55O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUgPiB0aGlzLmdhbWVIZWlnaHQpIHtcclxuICAgICAgdGhpcy5nYW1lLmxpdmVzLS07XHJcbiAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29sbGlzaW9uRGV0ZWN0aW9uKHRoaXMsIHRoaXMuZ2FtZS5wYWRkbGUpKSB7XHJcbiAgICAgIHRoaXMuc3BlZWQueSA9IC10aGlzLnNwZWVkLnk7XHJcbiAgICAgIHRoaXMucG9zaXRpb24ueSA9IHRoaXMuZ2FtZS5wYWRkbGUucG9zaXRpb24ueSAtIHRoaXMuc2l6ZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgY29sbGlzaW9uRGV0ZWN0aW9uIH0gZnJvbSBcIi4vY29sbGlzaW9uRGV0ZWN0aW9uXCI7XHJcbmNvbnN0IEJSSUNLID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJicmlja1wiKTtcclxuY29uc3QgQlJJQ0tfV0lEVEggPSAzMDtcclxuY29uc3QgQlJJQ0tfSEVJR0hUID0gMjA7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyaWNrIHtcclxuICBjb25zdHJ1Y3RvcihnYW1lLCBwb3NpdGlvbikge1xyXG4gICAgdGhpcy5pbWFnZSA9IEJSSUNLO1xyXG4gICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgIHRoaXMud2lkdGggPSBCUklDS19XSURUSDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gQlJJQ0tfSEVJR0hUO1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgdGhpcy5kZWxldGlvbiA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKCkge1xyXG4gICAgaWYgKGNvbGxpc2lvbkRldGVjdGlvbih0aGlzLmdhbWUuYmFsbCwgdGhpcykpIHtcclxuICAgICAgdGhpcy5nYW1lLmJhbGwuc3BlZWQueSA9IC10aGlzLmdhbWUuYmFsbC5zcGVlZC55O1xyXG4gICAgICB0aGlzLmRlbGV0aW9uID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgZHJhdyhjdHgpIHtcclxuICAgIGN0eC5kcmF3SW1hZ2UoXHJcbiAgICAgIHRoaXMuaW1hZ2UsXHJcbiAgICAgIHRoaXMucG9zaXRpb24ueCxcclxuICAgICAgdGhpcy5wb3NpdGlvbi55LFxyXG4gICAgICB0aGlzLndpZHRoLFxyXG4gICAgICB0aGlzLmhlaWdodFxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IEJyaWNrIGZyb20gXCIuL2JyaWNrXCI7XHJcblxyXG5jb25zdCBCUklDS19IRUlHSFQgPSAyMDtcclxuY29uc3QgQlJJQ0tfV0lEVEggPSAzMDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZExldmVsKGdhbWUsIGxldmVsKSB7XHJcbiAgbGV0IGJyaWNrcyA9IFtdO1xyXG4gIGxldmVsLmZvckVhY2goKGVsZW1lbnRZLCByb3dBbW91bnQpID0+IHtcclxuICAgIGVsZW1lbnRZLmZvckVhY2goKGVsZW1lbnRYLCBicmlja0Ftb3VudCkgPT4ge1xyXG4gICAgICBpZiAoZWxlbWVudFggPT09IDEpIHtcclxuICAgICAgICBicmlja3MucHVzaChcclxuICAgICAgICAgIG5ldyBCcmljayhnYW1lLCB7XHJcbiAgICAgICAgICAgIHg6IEJSSUNLX1dJRFRIICogYnJpY2tBbW91bnQsXHJcbiAgICAgICAgICAgIHk6IEJSSUNLX0hFSUdIVCAqIHJvd0Ftb3VudCArIEJSSUNLX0hFSUdIVCAqIDIsXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gYnJpY2tzO1xyXG59XHJcbmV4cG9ydCBjb25zdCBsZXZlbDEgPSBbXHJcbiAgWzAsIDAsIDEsIDEsIDEsIDEsIDAsIDAsIDEsIDEsIDEsIDEsIDAsIDAsIDEsIDEsIDEsIDEsIDAsIDBdLFxyXG4gIFsxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxXSxcclxuICBbMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMV0sXHJcbiAgWzEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDFdLFxyXG5dO1xyXG4iLCJpbXBvcnQgUGFkZGxlIGZyb20gXCIuL3BhZGRsZVwiO1xyXG5pbXBvcnQgQmFsbCBmcm9tIFwiLi9iYWxsXCI7XHJcbmltcG9ydCBCcmljayBmcm9tIFwiLi9icmlja1wiO1xyXG5pbXBvcnQgeyBidWlsZExldmVsLCBsZXZlbDEgfSBmcm9tIFwiLi9sZXZlbHNcIjtcclxuXHJcbi8vIGNvbnN0IFNQQUNFQkFSID0gMzI7XHJcblxyXG5jb25zdCBHQU1FU1RBVEUgPSB7XHJcbiAgTUVOVTogMixcclxuICBHQU1FT1ZFUjogMyxcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XHJcbiAgY29uc3RydWN0b3IoZ2FtZVdpZHRoLCBnYW1lSGVpZ2h0KSB7XHJcbiAgICB0aGlzLmdhbWVXaWR0aCA9IGdhbWVXaWR0aDtcclxuICAgIHRoaXMuZ2FtZUhlaWdodCA9IGdhbWVIZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBzdGFydCgpIHtcclxuICAgIHRoaXMuZ2FtZXN0YXRlID0gR0FNRVNUQVRFLk1FTlU7XHJcbiAgICBsZXQgYnJpY2tzID0gW107XHJcbiAgICB0aGlzLmJhbGwgPSBuZXcgQmFsbCh0aGlzKTtcclxuICAgIHRoaXMuYnJpY2sgPSBuZXcgQnJpY2sodGhpcyk7XHJcbiAgICB0aGlzLnBhZGRsZSA9IG5ldyBQYWRkbGUodGhpcyk7XHJcbiAgICBicmlja3MgPSBidWlsZExldmVsKHRoaXMsIGxldmVsMSk7XHJcbiAgICB0aGlzLmdhbWVPYmplY3QgPSBbdGhpcy5iYWxsLCB0aGlzLnBhZGRsZSwgLi4uYnJpY2tzXTtcclxuICAgIHRoaXMubGl2ZXMgPSAzO1xyXG4gIH1cclxuICB1cGRhdGUocHJvZ3Jlc3MpIHtcclxuICAgIGlmICh0aGlzLmxpdmVzID09PSAwKSB7XHJcbiAgICAgIHRoaXMuZ2FtZXN0YXRlID0gR0FNRVNUQVRFLkdBTUVPVkVSO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmdhbWVzdGF0ZSA9PT0gR0FNRVNUQVRFLkdBTUVPVkVSKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdhbWVPYmplY3QuZm9yRWFjaCgoZWxlbWVudCkgPT4gZWxlbWVudC51cGRhdGUocHJvZ3Jlc3MpKTtcclxuICAgIHRoaXMuZ2FtZU9iamVjdCA9IHRoaXMuZ2FtZU9iamVjdC5maWx0ZXIoKG9iamVjdCkgPT4gIW9iamVjdC5kZWxldGlvbik7XHJcbiAgfVxyXG4gIGRyYXcoY3R4KSB7XHJcbiAgICAvLyB0aGlzLnBhZGRsZS5kcmF3KGN0eCk7XHJcbiAgICAvLyB0aGlzLmJhbGwuZHJhdyhjdHgpO1xyXG4gICAgLy8gdGhpcy5icmljay5kcmF3KGN0eCk7XHJcbiAgICB0aGlzLmdhbWVPYmplY3QuZm9yRWFjaCgoZWxlbWVudCkgPT4gZWxlbWVudC5kcmF3KGN0eCkpO1xyXG5cclxuICAgIGlmICh0aGlzLmdhbWVzdGF0ZSA9PT0gR0FNRVNUQVRFLkdBTUVPVkVSKSB7XHJcbiAgICAgIGN0eC5yZWN0KDAsIDAsIDYwMCwgNDAwKTtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSgwLDAsMCwgMSlcIjtcclxuICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgY3R4LmZvbnQgPSBcIjMwcHggQXJpYWxcIjtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgIGN0eC5maWxsVGV4dChcIkdBTUUgT1ZFUlwiLCB0aGlzLmdhbWVXaWR0aCAvIDIsIHRoaXMuZ2FtZUhlaWdodCAvIDIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgR2FtZSBmcm9tIFwiLi9nYW1lXCI7XHJcblxyXG5jb25zdCBDQU5WQVMgPSBcImNhbnZhc1wiO1xyXG5jb25zdCBHQU1FX1dJRFRIID0gNjAwO1xyXG5jb25zdCBHQU1FX0hFSUdIVCA9IDQwMDtcclxuY29uc3QgS0VZUEFTVUUgPSA4MDtcclxuY29uc3QgU1BBQ0VCQVIgPSAzMjtcclxuY29uc3QgQ0hBTkdFQlVUVE9OID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RlLS1qc1wiKTtcclxuXHJcbmxldCBjdHg7XHJcbmxldCBnYW1lO1xyXG5sZXQgaXNEYXJrID0gZmFsc2U7XHJcbmxldCBwYXVzZSA9IGZhbHNlO1xyXG5sZXQgcHJvZ3Jlc3M7XHJcbmxldCBzcGFjZUJhciA9IGZhbHNlO1xyXG5sZXQgc3RhcnQgPSBudWxsO1xyXG5cclxuQ0hBTkdFQlVUVE9OLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgaWYgKGlzRGFyaykge1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS1iYWNrZ3JvdW5kLWNvbG9yXCIsIFwiI2ZlZmVmZVwiKTtcclxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tdGV4dC1jb2xvclwiLCBcIiMzMzNcIik7XHJcbiAgICBDSEFOR0VCVVRUT04uaW5uZXJIVE1MID0gXCJkcmFrdWxhIHRoZW1lXCI7XHJcbiAgICBpc0RhcmsgPSBmYWxzZTtcclxuICB9IGVsc2Uge1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS1iYWNrZ3JvdW5kLWNvbG9yXCIsIFwiIzMzM1wiKTtcclxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tdGV4dC1jb2xvclwiLCBcIiNmZWZlZmVcIik7XHJcbiAgICBDSEFOR0VCVVRUT04uaW5uZXJIVE1MID0gXCJsaWdodCB0aGVtZVwiO1xyXG4gICAgaXNEYXJrID0gdHJ1ZTtcclxuICB9XHJcbn0pO1xyXG5cclxubGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKENBTlZBUyk7XHJcbmlmICghY2FudmFzKSB7XHJcbiAgY29uc29sZS53YXJuKFwiJWMgTXkgRnJpZW5kXCIsIFwiY29sb3I6IG1hZ2VudGFcIiwgXCJaamViYWxlcyAhISFcIik7XHJcbn1cclxuY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleURvd24pO1xyXG5cclxuZnVuY3Rpb24ga2V5RG93bihldmVudCkge1xyXG4gIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgY2FzZSBLRVlQQVNVRTpcclxuICAgICAgcGF1c2UgPSAhcGF1c2U7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBTUEFDRUJBUjpcclxuICAgICAgZ2FtZS5zdGFydCgpO1xyXG4gICAgICBzcGFjZUJhciA9ICFzcGFjZUJhcjtcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG59XHJcblxyXG5nYW1lID0gbmV3IEdhbWUoR0FNRV9XSURUSCwgR0FNRV9IRUlHSFQpO1xyXG5cclxuZ2FtZS5zdGFydCgpO1xyXG5cclxuZnVuY3Rpb24gc3RlcCh0aW1lU3RhbXApIHtcclxuICBpZiAoIXN0YXJ0KSBzdGFydCA9IHRpbWVTdGFtcDtcclxuICBwcm9ncmVzcyA9IHRpbWVTdGFtcCAtIHN0YXJ0O1xyXG4gIHN0YXJ0ID0gcHJvZ3Jlc3M7XHJcblxyXG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgR0FNRV9XSURUSCwgR0FNRV9IRUlHSFQpO1xyXG5cclxuICBpZiAoIXBhdXNlICYmIHNwYWNlQmFyKSB7XHJcbiAgICBnYW1lLnVwZGF0ZShwcm9ncmVzcyk7XHJcbiAgfVxyXG4gIGdhbWUuZHJhdyhjdHgpO1xyXG5cclxuICBpZiAoIXNwYWNlQmFyKSB7XHJcbiAgICBjdHgucmVjdCgwLCAwLCA2MDAsIDQwMCk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCJyZ2JhKDAsMCwwLCAuOSlcIjtcclxuICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgY3R4LmZvbnQgPSBcIjMwcHggQXJpYWxcIjtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgIGN0eC5maWxsVGV4dChcIlByZXNzIHNwYWNlYmFyIHRvIHN0YXJ0XCIsIEdBTUVfV0lEVEggLyAyLCBHQU1FX0hFSUdIVCAvIDIpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHBhdXNlKSB7XHJcbiAgICBjdHgucmVjdCgwLCAwLCA2MDAsIDQwMCk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCJyZ2JhKDAsMCwwLCAuMylcIjtcclxuICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgY3R4LmZvbnQgPSBcIjMwcHggQXJpYWxcIjtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgIGN0eC5maWxsVGV4dChcIlBhdXNlZFwiLCBHQU1FX1dJRFRIIC8gMiwgR0FNRV9IRUlHSFQgLyAyKTtcclxuICB9XHJcblxyXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxufVxyXG5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')}]);